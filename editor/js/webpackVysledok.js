(()=>{"use strict";var e={592:(e,t,n)=>{t.__esModule=!0,t.Background=void 0;var o=n(164),i=function(){function e(){this.backgroundImage=void 0,this.color="wheat"}return e.prototype.draw=function(){null!=this.backgroundImage?o.ctx.drawImage(this.backgroundImage,0,0,o.canvas.width,o.canvas.height):(o.ctx.beginPath(),o.ctx.fillStyle=this.color,o.ctx.fillRect(0,0,o.canvas.width,o.canvas.height))},e.prototype.delete=function(){this.backgroundImage=void 0,this.color="wheat"},e.prototype.setColor=function(e){this.color=e},e.prototype.getColor=function(){return this.color},e.prototype.getBackgroundImage=function(){return this.backgroundImage},e.prototype.setBackgroundImage=function(e){this.backgroundImage=e},e}();t.Background=i},829:(e,t,n)=>{t.__esModule=!0,t.editBackground=void 0;var o=n(164),i=n(792),d=void 0;t.editBackground=function(){(0,i.removeAllButtons)(),(0,i.removeAllListenersAdded)();var e=o.doc.createElement("input");e.type="checkbox",e.id="backgroundChecker";var t=o.doc.createElement("p");t.textContent="Is background an Image? (checkbox)";var n=o.doc.createElement("paragraph");n.id="hasBackgroundImageShower",n.textContent="no",e.oninput=function(){e.checked?o.doc.getElementById("hasBackgroundImageShower").textContent="yes":o.doc.getElementById("hasBackgroundImageShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(e),o.doc.getElementById("tileEditingPlace").appendChild(n);var a=o.doc.createElement("input");a.id="backgroundImage",a.type="file",a.accept=".jpg, .jpeg, .png",a.textContent="Choose an Image!",a.oninput=function(){a.files.length>0?(d=new Image).src=URL.createObjectURL(a.files[0]):d=void 0},o.doc.getElementById("tileEditingPlace").appendChild(a);var l=o.doc.createElement("button");l.id="changeBackground",l.textContent="Change!",l.classList.add("btn"),l.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(l),o.doc.getElementById("changeBackground").addEventListener("click",(function(){e.checked?o.editor.getGame().getBackground().setBackgroundImage(d):o.editor.getGame().getBackground().delete(),o.editor.getGame().getBackground().setColor(c.value),(0,o.reload)()}));var r=o.doc.createElement("button");r.id="deleteBackground",r.textContent="Delete Background!",r.classList.add("btn"),r.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(r),o.doc.getElementById("deleteBackground").addEventListener("click",(function(){o.editor.getGame().getBackground().delete(),(0,o.reload)()}));var c=o.doc.createElement("input");c.type="color",c.id="colorPicker",(t=o.doc.createElement("p")).textContent="Choose color of background:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(c)}},977:(e,t,n)=>{t.__esModule=!0,t.Game=void 0;var o=n(407),i=n(592),d=function(){function e(){this.name="",this.author="",this.path=new o.Path,this.numOfPlayers=0,this.tiles=[],this.playerTokens=[],this.background=new i.Background,this.nextTileNumber=1}return e.prototype.removeTile=function(e){this.tiles=this.tiles.filter((function(t){return t!=e}))},e.prototype.setPath=function(e){this.path=e},e.prototype.getPath=function(){return this.path},e.prototype.setNumOfPlayers=function(e){this.numOfPlayers=e},e.prototype.getnumOfPlayers=function(){return this.numOfPlayers},e.prototype.setTiles=function(e){this.tiles=e},e.prototype.getTiles=function(){return this.tiles},e.prototype.addTile=function(e){console.log("aspon spustil"),this.tiles.push(e)},e.prototype.getAuthor=function(){return this.author},e.prototype.setAuthor=function(e){this.author=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getBackground=function(){return this.background},e.prototype.setBackground=function(e){this.background=e},e.prototype.getNextTileNumber=function(){return this.nextTileNumber},e.prototype.setNextTileNumber=function(e){this.nextTileNumber=e},e.prototype.increaseTileNumber=function(){this.nextTileNumber++},e.prototype.decreaseTileNumber=function(){this.nextTileNumber--},e.prototype.setPlayerTokens=function(e){this.playerTokens=e},e.prototype.getPlayerTokens=function(){return this.playerTokens},e}();t.Game=d},127:(e,t,n)=>{t.__esModule=!0,t.GameEditor=void 0;var o=n(164),i=n(210),d=n(977),a=n(792),l=function(){function e(){this.game=new d.Game,this.choosenTile=void 0,this.undoLog=[],this.initNewGame()}return e.prototype.initNewGame=function(){this.game=new d.Game,console.log(this.getGame())},e.prototype.initTile=function(e,t,n,d,a,l,r,c){var s=new i.Tile("",e.x,e.y,e.x-n,e.x+n,e.y-n,e.y+n,n,t,this.game.getNextTileNumber());return 0!=d&&(s.setStroke(d),s.setStrokeColor(a)),null!=r&&s.setBackgroundFile(r),null!=c&&s.setPatternFile(c),s.setShape(l),this.game.addTile(s),s.drawTile(o.canvas,o.ctx),this.game.increaseTileNumber(),console.log("cislo dalsieho je :"+this.game.getNextTileNumber()),s},e.prototype.findTile=function(e){for(var t=(0,o.calibreEventCoords)(e),n=this.game.getTiles(),i=n.length-1;i>=0;i--)if(n[i].isPointedAt(t.x,t.y)){n[i]==this.choosenTile?(n[i].setIsChoosen(!1),this.choosenTile=void 0):(null!=this.choosenTile&&this.choosenTile.setIsChoosen(!1),n[i].setIsChoosen(!0),this.choosenTile=n[i],a.isMoving||(0,a.editTiles)());break}},e.prototype.deleteTile=function(e){for(var t=(0,o.calibreEventCoords)(e),n=this.game.getTiles(),i=n.length-1;i>=0;i--)if(n[i].isPointedAt(t.x,t.y)){this.game.removeTile(n[i]);break}},e.prototype.updateChoosenTile=function(e,t,n,o,i,d,a){var l,r,c,s,h,u,p;null===(l=this.choosenTile)||void 0===l||l.setColor(e),null===(r=this.choosenTile)||void 0===r||r.setRadius(t),null===(c=this.choosenTile)||void 0===c||c.setShape(d),null===(s=this.choosenTile)||void 0===s||s.setBackgroundFile(a),n?(null===(h=this.choosenTile)||void 0===h||h.setStroke(o),null===(u=this.choosenTile)||void 0===u||u.setStrokeColor(i)):null===(p=this.choosenTile)||void 0===p||p.setStroke(0)},e.prototype.moveTile=function(e){var t,n,i,d,a,l,r,c,s,h,u=(0,o.calibreEventCoords)(e);null===(t=this.choosenTile)||void 0===t||t.setCenterX(u.x),null===(n=this.choosenTile)||void 0===n||n.setCenterY(u.y),null===(i=this.choosenTile)||void 0===i||i.setX1(u.x-(null===(d=this.choosenTile)||void 0===d?void 0:d.getRadius())),null===(a=this.choosenTile)||void 0===a||a.setX2(u.x+(null===(l=this.choosenTile)||void 0===l?void 0:l.getRadius())),null===(r=this.choosenTile)||void 0===r||r.setY1(u.y-(null===(c=this.choosenTile)||void 0===c?void 0:c.getRadius())),null===(s=this.choosenTile)||void 0===s||s.setY2(u.y+(null===(h=this.choosenTile)||void 0===h?void 0:h.getRadius()))},e.prototype.makeAllTilesNotChoosen=function(){this.game.getTiles().forEach((function(e){e.setIsChoosen(!1)})),this.choosenTile=void 0},e.prototype.addToUndoLog=function(e){this.undoLog.push(e)},e.prototype.removeLastFromUndoLog=function(){var e=this,t=this.undoLog.pop();null==t||t.forEach((function(t){e.game.removeTile(t),e.game.decreaseTileNumber()}))},e.prototype.getGame=function(){return this.game},e.prototype.setGame=function(e){this.game=e},e.prototype.getChoosenTile=function(){return this.choosenTile},e}();t.GameEditor=l},407:(e,t)=>{t.__esModule=!0,t.Path=void 0;var n=function(){function e(){this.path=[],this.type="",this.tilesNumber=0,this.length=0,this.toggle=!0}return e.prototype.add=function(e){this.path.push(e)},e.prototype.makeLastPointEnding=function(){this.path[this.path.length-1].setEnd(!0)},e.prototype.setType=function(e){this.type=e},e.prototype.getType=function(){return this.type},e.prototype.getPath=function(){return this.path},e.prototype.setPath=function(e){this.path=e},e}();t.Path=n},89:(e,t,n)=>{t.__esModule=!0,t.endDrawingPath=t.saveEditingTrack=t.editTrack=void 0;var o=n(164),i=n(990),d=n(792),a=!1;function l(){o.editor.getGame().getPath().setPath([]),(0,o.reload)(),o.canvas.addEventListener("mousemove",h),o.canvas.addEventListener("mousedown",s),o.canvas.addEventListener("mouseenter",s)}function r(){o.editor.getGame().getPath().setPath([]),(0,o.reload)(),o.canvas.removeEventListener("mousemove",h),o.canvas.removeEventListener("mousedown",s),o.canvas.removeEventListener("mouseenter",s)}t.editTrack=function(){(0,d.removeAllButtons)(),(0,d.removeAllListenersAdded)();var e=document.createElement("button");e.id="start",e.textContent="Start Inserting!",e.classList.add("btn"),e.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(e),document.getElementById("start").addEventListener("click",l);var t=document.createElement("button");t.id="spawn",t.textContent="Spawn Tiles!",t.classList.add("btn"),t.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(t),document.getElementById("spawn").addEventListener("click",u);var n=document.createElement("button");n.id="end",n.textContent="End Inserting!",n.classList.add("btn"),n.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(n),document.getElementById("end").addEventListener("click",r),(0,d.spawnElements)();var o=document.createElement("button");o.id="undoButton",o.textContent="Undo last Tile/s added!",o.classList.add("btn"),o.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(o),document.getElementById("undoButton").addEventListener("click",(function(){(0,d.undoTileInsert)()}))},t.saveEditingTrack=function(){r(),o.editor.getGame().getPath().getPath(),(0,o.elementDeleter)("buttonPlace"),(0,o.mainMenu)()},t.endDrawingPath=r;var c={x:0,y:0,end:!1};function s(e){var t=(0,o.calibreEventCoords)(e);t.x<0?c.x=0:t.x>o.ctx.canvas.width?c.x=o.ctx.canvas.width:c.x=t.x,t.y<0?c.y=0:t.y>o.ctx.canvas.height?c.y=o.ctx.canvas.height:c.y=t.y}function h(e){if(1===e.buttons){var t=(0,o.calibreEventCoords)(e);o.editor.getGame().getPath().add(new i.Point(t.x,t.y,c.end)),1!=o.editor.getGame().getPath().getPath().length?(o.ctx.beginPath(),o.ctx.lineWidth=5,o.ctx.lineCap="round",o.ctx.strokeStyle="#c0392b",o.ctx.moveTo(c.x,c.y),s(e),o.ctx.lineTo(c.x,c.y),o.ctx.stroke()):o.ctx.moveTo(t.x,t.y)}}function u(){var e=[];o.editor.getGame().getPath().getPath().forEach((function(t){var n,i;n=t.getX(),i=t.getY(),a=!0,o.editor.getGame().getTiles().forEach((function(e){Math.sqrt(Math.pow(n-e.getCenterX(),2)+Math.pow(i-e.getCenterY(),2))<=2*e.getRadius()&&(a=!1)})),1==a&&(e.push((0,d.spawnTile)({x:t.getX(),y:t.getY()})),console.log(o.editor.getGame().getTiles().length))})),r(),o.editor.addToUndoLog(e)}},990:(e,t)=>{t.__esModule=!0,t.Point=void 0;var n=function(){function e(e,t,n){this.x=e,this.y=t,this.end=n}return e.prototype.isInRange=function(e,t,n){return Math.sqrt(Math.pow(this.x-e,2)+Math.pow(this.y-t,2))>=n},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.getEnd=function(){return this.end},e.prototype.setX=function(e){this.x=e},e.prototype.setY=function(e){this.y=e},e.prototype.setEnd=function(e){this.end=e},e}();t.Point=n},210:(e,t)=>{t.__esModule=!0,t.Tile=void 0;var n=function(){function e(e,t,n,o,i,d,a,l,r,c){this.isOccupied=!1,this.color="",this.stroke=0,this.strokeColor="",this.shape="circle",this.isChoosen=!1,this.backgroundFile=void 0,this.patternFile=void 0,this.isEnding=!1,this.isStarting=!1,this.belongTo="",this.type=e,this.centerX=t,this.centerY=n,this.x1=o,this.x2=i,this.y1=d,this.y2=a,this.color=r,this.radius=l,this.tileNumber=c}return e.prototype.drawTile=function(e,t){if(t.beginPath(),null==this.backgroundFile&&null==this.patternFile)t.strokeStyle=this.color,t.lineWidth=0,t.fillStyle=this.color,"circle"==this.shape?t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI):"square"==this.shape&&t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.fill();else if(null!=this.backgroundFile)"circle"==this.shape?(t.save(),(i=new Path2D).arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.clip(i),t.fillStyle="black",t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.stroke(),t.drawImage(this.backgroundFile,this.x1,this.y1,2*this.radius,2*this.radius),t.restore()):(t.save(),(i=new Path2D).rect(this.x1,this.y1,2*this.radius,2*this.radius),t.clip(i),t.fillStyle="black",t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.stroke(),t.drawImage(this.backgroundFile,this.x1,this.y1,2*this.radius,2*this.radius),t.restore());else if(null!=this.patternFile)if("circle"==this.shape){t.save(),(i=new Path2D).arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.clip(i),t.fillStyle="black",t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.stroke();for(var n=0;20*n+this.x1<this.x2;n++)for(var o=0;20*o+this.y1<this.y2;o++)t.drawImage(this.patternFile,this.x1+20*n,this.y1+20*o,20,20);t.restore()}else{var i;for(t.save(),(i=new Path2D).rect(this.x1,this.y1,2*this.radius,2*this.radius),t.clip(i),t.fillStyle="black",t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.stroke(),n=0;20*n+this.x1<this.x2;n++)for(o=0;20*o+this.y1<this.y2;o++)t.drawImage(this.patternFile,this.x1+20*n,this.y1+20*o,20,20);t.restore()}var d;this.stroke>0&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.stroke,t.stroke()),this.isChoosen&&("circle"==this.shape?((d=t.createRadialGradient(this.centerX,this.centerY,this.radius,this.centerX,this.centerY,this.radius+8)).addColorStop(0,"red"),d.addColorStop(.33,"#990000"),d.addColorStop(.66,"pink"),t.lineWidth=15,t.strokeStyle=d,t.stroke()):((d=t.createLinearGradient(this.x1,this.y1,this.x2,this.y2)).addColorStop(0,"red"),d.addColorStop(.33,"#990000"),d.addColorStop(.66,"pink"),t.lineWidth=15,t.strokeStyle=d,t.stroke())),t.font="30px Arial",t.fillStyle="white",t.textBaseline="middle",t.fillText(this.tileNumber.toString(),this.centerX-8,this.centerY)},e.prototype.isPointedAt=function(e,t){return"circle"==this.shape&&Math.sqrt(Math.pow(this.centerX-e,2)+Math.pow(this.centerY-t,2))<=this.radius||"square"==this.shape&&this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},e.prototype.setStroke=function(e){this.stroke=e},e.prototype.getStroke=function(){return this.stroke},e.prototype.setStrokeColor=function(e){this.strokeColor=e},e.prototype.getStrokeColor=function(){return this.strokeColor},e.prototype.setShape=function(e){this.shape=e},e.prototype.getShape=function(){return this.shape},e.prototype.setIsChoosen=function(e){this.isChoosen=e},e.prototype.getIsChoosen=function(){return this.isChoosen},e.prototype.setType=function(e){this.type=e},e.prototype.getType=function(){return this.type},e.prototype.setX1=function(e){this.x1=e},e.prototype.getX1=function(){return this.x1},e.prototype.setX2=function(e){this.x2=e},e.prototype.getX2=function(){return this.x2},e.prototype.setY1=function(e){this.y1=e},e.prototype.getY1=function(){return this.y1},e.prototype.setY2=function(e){this.y2=e},e.prototype.getY2=function(){return this.y2},e.prototype.setCenterX=function(e){this.centerX=e},e.prototype.getCenterX=function(){return this.centerX},e.prototype.setCenterY=function(e){this.centerY=e},e.prototype.getCenterY=function(){return this.centerY},e.prototype.setRadius=function(e){this.radius=e},e.prototype.getRadius=function(){return this.radius},e.prototype.setIsOccupied=function(e){this.isOccupied=e},e.prototype.getIsOccupied=function(){return this.isOccupied},e.prototype.setColor=function(e){this.color=e},e.prototype.getColor=function(){return this.color},e.prototype.getBackgroundFile=function(){return this.backgroundFile},e.prototype.setBackgroundFile=function(e){this.backgroundFile=e},e.prototype.getPatternFile=function(){return this.patternFile},e.prototype.setPatternFile=function(e){this.patternFile=e},e}();t.Tile=n},792:(e,t,n)=>{t.__esModule=!0,t.undoTileInsert=t.spawnTile=t.spawnElements=t.removeAllListenersAdded=t.removeAllButtons=t.isMoving=t.moveTiles=t.deleteTiles=t.editTiles=t.insertTilesMenu=void 0;var o=n(164),i=n(89),d=!1;t.isMoving=d;var a=void 0,l=void 0,r=function(e){o.editor.findTile(e),(0,o.reload)()},c=function(e){o.editor.deleteTile(e),(0,o.reload)()};function s(){var e=o.doc.createElement("input");e.type="color",e.id="colorPicker";var t=o.doc.createElement("p");t.textContent="Choose color of tile:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(e);var n=o.doc.createElement("input");n.type="range",n.id="sizeOfTileSlider",n.value="30",n.min="20",n.max="50",n.step="1";var i=o.doc.createElement("paragraph");i.id="tileSizeShower",i.textContent="30",n.oninput=function(){o.doc.getElementById("tileSizeShower").textContent=n.value},(t=o.doc.createElement("p")).textContent="Tile size:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(n),o.doc.getElementById("tileEditingPlace").appendChild(i);var d=o.doc.createElement("input");d.type="checkbox",d.id="outlineChecker",(t=o.doc.createElement("p")).textContent="Tile have outline? (checkbox)";var r=o.doc.createElement("paragraph");r.id="hasOutlineShower",r.textContent="no",d.oninput=function(){d.checked?o.doc.getElementById("hasOutlineShower").textContent="yes":o.doc.getElementById("hasOutlineShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(d),o.doc.getElementById("tileEditingPlace").appendChild(r);var c=o.doc.createElement("input");c.type="color",c.id="outlineColorPicker",(t=o.doc.createElement("p")).textContent="Choose color of outline:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(c);var s=o.doc.createElement("input");s.type="range",s.id="sizeOfOutlineSlider",s.value="3",s.min="1",s.max="10",s.step="1";var h=o.doc.createElement("paragraph");h.id="tileOutlineSizeShower",h.textContent="3",s.oninput=function(){o.doc.getElementById("tileOutlineSizeShower").textContent=s.value},(t=o.doc.createElement("p")).textContent="Outline size:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(s),o.doc.getElementById("tileEditingPlace").appendChild(h),(t=o.doc.createElement("p")).textContent="Choose Shape:",o.doc.getElementById("tileEditingPlace").appendChild(t);var u=o.doc.createElement("select");u.id="shapeMenu",u.classList.add("btn"),u.classList.add("btn-dark");for(var p=["circle","square"],g=0;g<p.length;g++)(x=o.doc.createElement("option")).value=p[g],x.text=p[g],u.appendChild(x);o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(u),(t=o.doc.createElement("p")).textContent="Choose pattern image:",o.doc.getElementById("tileEditingPlace").appendChild(t);var m=o.doc.createElement("input");m.type="checkbox",m.id="patternChecker",(t=o.doc.createElement("p")).textContent="Tile have pattern from images? (checkbox)";var y=o.doc.createElement("paragraph");y.id="hasPatternImageShower",y.textContent="no",m.oninput=function(){m.checked?o.doc.getElementById("hasPatternImageShower").textContent="yes":o.doc.getElementById("hasPatternImageShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(m),o.doc.getElementById("tileEditingPlace").appendChild(y);var v=o.doc.createElement("input");v.id="tileImage",v.type="file",v.accept=".jpg, .jpeg, .png",v.textContent="Choose an Image!",v.oninput=function(){v.files.length>0?(l=new Image).src=URL.createObjectURL(v.files[0]):l=void 0},o.doc.getElementById("tileEditingPlace").appendChild(v),(t=o.doc.createElement("p")).textContent="Choose background image:",o.doc.getElementById("tileEditingPlace").appendChild(t);var E=o.doc.createElement("input");E.type="checkbox",E.id="backgroundChecker",(t=o.doc.createElement("p")).textContent="Tile have background image? (checkbox)";var f=o.doc.createElement("paragraph");f.id="hasBackgroundImageShower",f.textContent="no",E.oninput=function(){E.checked?o.doc.getElementById("hasBackgroundImageShower").textContent="yes":o.doc.getElementById("hasBackgroundImageShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(E),o.doc.getElementById("tileEditingPlace").appendChild(f);var C=o.doc.createElement("input");C.id="tileImage",C.type="file",C.accept=".jpg, .jpeg, .png",C.textContent="Choose an Image!",C.oninput=function(){C.files.length>0?(a=new Image).src=URL.createObjectURL(C.files[0]):a=void 0},o.doc.getElementById("tileEditingPlace").appendChild(C);var k=o.doc.createElement("select");for(k.id="startMenu",k.classList.add("btn"),k.classList.add("btn-dark"),p=["No one","Everyone"],g=0;g<p.length;g++)(x=o.doc.createElement("option")).value=p[g],x.text=p[g],k.appendChild(x);(t=o.doc.createElement("p")).textContent="For who is this starting tile? (choose players)",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(k);var I=o.doc.createElement("select");for(I.id="finishMenu",I.classList.add("btn"),I.classList.add("btn-dark"),p=["No one","Everyone"],g=0;g<p.length;g++)(x=o.doc.createElement("option")).value=p[g],x.text=p[g],I.appendChild(x);(t=o.doc.createElement("p")).textContent="For who is this finishing tile? (choose players)",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(I);var B=o.doc.createElement("select");for(B.id="standMenu",B.classList.add("btn"),B.classList.add("btn-dark"),p=["No one","Everyone"],g=0;g<p.length;g++){var x;(x=o.doc.createElement("option")).value=p[g],x.text=p[g],B.appendChild(x)}(t=o.doc.createElement("p")).textContent="Who can stand atop of this tile? (choose players)",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(B)}function h(){u(),p(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),(0,o.mainMenu)()}function u(){(0,o.elementDeleter)("buttonPlace"),(0,o.elementDeleter)("numOfPlayersPlace"),(0,o.elementDeleter)("gameTypePlace"),(0,o.elementDeleter)("gameNamePlace"),(0,o.elementDeleter)("tileEditingPlace")}function p(){o.canvas.removeEventListener("mousemove",f),o.canvas.removeEventListener("mousedown",f),o.canvas.removeEventListener("mousedown",m),o.canvas.removeEventListener("click",r),o.canvas.removeEventListener("click",c),(0,i.endDrawingPath)()}function g(){o.editor.removeLastFromUndoLog(),(0,o.reload)()}t.spawnElements=s,t.insertTilesMenu=function e(){p(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),u(),o.canvas.addEventListener("click",r);var t=o.doc.createElement("button");t.id="Save",t.textContent="Save!",t.classList.add("btn"),t.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(t),o.doc.getElementById("Save").addEventListener("click",(function(){h()}));var n=o.doc.createElement("button");n.id="drawPath",n.textContent="Draw Path!!",n.classList.add("btn"),n.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(n),o.doc.getElementById("drawPath").addEventListener("click",(function(){(0,i.editTrack)()}));var d=o.doc.createElement("button");d.id="startInsertingButton",d.textContent="Insert by one!",d.classList.add("btn"),d.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(d),o.doc.getElementById("startInsertingButton").addEventListener("click",(function(){!function(t){t.getElementById("canvasPlace").style.cursor="grabbing",u(),p(),o.canvas.addEventListener("mousedown",m);var n=t.createElement("button");n.id="endInsertingButton",n.textContent="Stop inserting!",n.classList.add("btn"),n.classList.add("btn-dark"),t.getElementById("buttonPlace").appendChild(n),t.getElementById("endInsertingButton").addEventListener("click",(function(){e(),o.canvas.removeEventListener("mousedown",m),t.getElementById("canvasPlace").style.cursor="default"})),s();var i=t.createElement("button");i.id="undoButton",i.textContent="Undo last Tile!",i.classList.add("btn"),i.classList.add("btn-dark"),t.getElementById("buttonPlace").appendChild(i),t.getElementById("undoButton").addEventListener("click",(function(){g()}))}(o.doc)}))},t.editTiles=function(){p(),o.canvas.addEventListener("click",r),u(),t.isMoving=d=!1;var e=o.doc.createElement("button");e.id="Save",e.textContent="Save!",e.classList.add("btn"),e.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(e),o.doc.getElementById("Save").addEventListener("click",(function(){u(),p(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),(0,o.mainMenu)()}));var n=o.doc.createElement("button");n.id="Update",n.textContent="Edit button!",n.classList.add("btn"),n.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(n),o.doc.getElementById("Update").addEventListener("click",v),s(),E()},t.moveTiles=function(){(0,i.endDrawingPath)(),o.doc.getElementById("canvasPlace").style.cursor="grabbing",o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),t.isMoving=d=!0,u(),o.canvas.addEventListener("click",r),o.canvas.addEventListener("mousemove",f),o.canvas.addEventListener("mousedown",f)},t.deleteTiles=function(){o.doc.getElementById("canvasPlace").style.cursor="grabbing",p(),u();var e=document.createElement("button");e.id="End",e.textContent="End deleting!",e.classList.add("btn"),e.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(e),e.addEventListener("click",h),o.canvas.addEventListener("click",c)},t.removeAllButtons=u,t.removeAllListenersAdded=p,t.undoTileInsert=g;var m=function(e){var t=(0,o.calibreEventCoords)(e),n=y(t);o.editor.addToUndoLog([n])},y=function(e){var t=o.doc.getElementById("sizeOfTileSlider"),n=o.doc.getElementById("colorPicker"),i=o.doc.getElementById("sizeOfOutlineSlider"),d=o.doc.getElementById("outlineColorPicker"),r=o.doc.getElementById("outlineChecker"),c=o.doc.getElementById("shapeMenu"),s=o.doc.getElementById("backgroundChecker"),h=o.doc.getElementById("patternChecker"),u=a,p=l;s.checked||(u=void 0),h.checked||(p=void 0);var g;return g=r.checked?o.editor.initTile(e,n.value,parseInt(t.value),parseInt(i.value),d.value,c.value,u,p):o.editor.initTile(e,n.value,parseInt(t.value),0,"",c.value,u,p),(0,o.reload)(),g};t.spawnTile=y;var v=function(){var e=o.doc.getElementById("sizeOfTileSlider"),t=o.doc.getElementById("colorPicker"),n=o.doc.getElementById("sizeOfOutlineSlider"),i=o.doc.getElementById("outlineColorPicker"),d=o.doc.getElementById("outlineChecker"),l=o.doc.getElementById("shapeMenu"),r=o.doc.getElementById("backgroundChecker"),c=a;r.checked||(c=void 0),o.editor.updateChoosenTile(t.value,parseInt(e.value),d.checked,parseInt(n.value),i.value,l.value,c),(0,o.reload)()},E=function(){var e;if(null!=o.editor.getChoosenTile()){var t=o.doc.getElementById("sizeOfTileSlider"),n=o.doc.getElementById("colorPicker"),i=o.doc.getElementById("sizeOfOutlineSlider"),d=o.doc.getElementById("outlineColorPicker"),a=o.doc.getElementById("outlineChecker"),l=o.doc.getElementById("shapeMenu"),r=o.doc.getElementById("backgroundChecker"),c=o.editor.getChoosenTile();n.value=c.getColor(),t.value=c.getRadius().toString(),i.value=c.getStroke().toString(),d.value=c.getStrokeColor(),a.checked=c.getStroke()>0,a.checked?o.doc.getElementById("hasOutlineShower").textContent="yes":o.doc.getElementById("hasOutlineShower").textContent="no",l.value=c.getShape(),r.checked=null!=(null===(e=o.editor.getChoosenTile())||void 0===e?void 0:e.getBackgroundFile()),r.checked?o.doc.getElementById("hasBackgroundImageShower").textContent="yes":o.doc.getElementById("hasBackgroundImageShower").textContent="no"}},f=function(e){o.editor.moveTile(e),(0,o.reload)()}},164:(e,t,n)=>{t.__esModule=!0,t.reload=t.editor=t.calibreEventCoords=t.ctx=t.canvas=t.clear=t.elementDeleter=t.doc=t.mainMenu=void 0;var o=n(792),i=n(829),d=n(127),a=document;t.doc=a;var l=document.createElement("canvas");t.canvas=l;var r=new d.GameEditor;function c(){var e=document.createElement("input");e.type="range",e.id="numOfPlayers",e.value="2",e.min="1",e.max="6",e.step="1";var t=document.createElement("paragraph");t.id="numShower",t.textContent="2";var n=document.createElement("p");n.textContent="Počet hráčov:",document.getElementById("numOfPlayersPlace").appendChild(n),document.getElementById("numOfPlayersPlace").appendChild(t),e.oninput=function(){document.getElementById("numShower").textContent=e.value},document.getElementById("numOfPlayersPlace").appendChild(e);var o=document.createElement("input");o.id="gameName",(n=document.createElement("p")).textContent="Názov hry:",document.getElementById("gameNamePlace").appendChild(n),document.getElementById("gameNamePlace").appendChild(o);var i=document.createElement("select");i.id="gameType",(n=document.createElement("p")).textContent="Typ hry:",document.getElementById("gameTypePlace").appendChild(n),document.getElementById("gameTypePlace").appendChild(i)}t.editor=r,document.getElementById("canvasPlace").appendChild(l),document.getElementById("editBackground").addEventListener("click",(function(){(0,i.editBackground)()})),document.getElementById("insertTiles").addEventListener("click",(function(){(0,o.insertTilesMenu)()})),document.getElementById("moveTiles").addEventListener("click",(function(){(0,o.moveTiles)()})),document.getElementById("editTiles").addEventListener("click",(function(){(0,o.editTiles)()})),document.getElementById("deleteTiles").addEventListener("click",(function(){(0,o.deleteTiles)()})),c(),t.mainMenu=c;var s=l.getContext("2d");function h(){s.canvas.width=window.innerWidth/3*2-30,s.canvas.height=window.innerHeight,u()}function u(){s.clearRect(0,0,l.width,l.height),null!=r.getGame().getBackground()&&r.getGame().getBackground().draw();for(var e=0,t=r.getGame().getPath().getPath().length;e<t-1;){var n=r.getGame().getPath().getPath()[e],o=r.getGame().getPath().getPath()[e+1];n.getEnd()||(s.lineWidth=5,s.lineCap="round",s.lineJoin="round",s.strokeStyle="#c0392b",s.moveTo(n.getX(),n.getY()),s.lineTo(o.getX(),o.getY()),Math.sqrt(Math.pow(n.getX()-o.getX(),2)+Math.pow(n.getY()-o.getY(),2)),s.stroke()),e++}r.getGame().getTiles().forEach((function(e){e.drawTile(l,s)}))}t.ctx=s,h(),window.addEventListener("resize",h),t.reload=u,t.clear=function(){r.getGame().getPath().setPath([]),s.clearRect(0,0,l.width,l.height)},t.elementDeleter=function(e){for(var t,n;null!=(null===(t=document.getElementById(e))||void 0===t?void 0:t.lastChild);)null===(n=document.getElementById(e))||void 0===n||n.removeChild(document.getElementById(e).lastChild)},t.calibreEventCoords=function(e){return{x:e.offsetX,y:e.offsetY}}}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var d=t[o]={exports:{}};return e[o](d,d.exports,n),d.exports}(164)})();