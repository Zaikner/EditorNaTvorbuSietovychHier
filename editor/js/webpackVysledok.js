(()=>{"use strict";var e={592:(e,t,n)=>{t.__esModule=!0,t.Background=void 0;var o=n(164),i=function(){function e(){this.backgroundImage=void 0,this.color="wheat"}return e.prototype.draw=function(){console.log("spustil draw"),null!=this.backgroundImage?o.ctx.drawImage(this.backgroundImage,0,0,o.canvas.width,o.canvas.height):(o.ctx.beginPath(),o.ctx.fillStyle=this.color,o.ctx.fillRect(0,0,o.canvas.width,o.canvas.height))},e.prototype.delete=function(){this.backgroundImage=void 0,this.color="wheat"},e.prototype.setColor=function(e){console.log("setol "+this.color),this.color=e,console.log("setol "+this.color)},e.prototype.getColor=function(){return this.color},e.prototype.getBackgroundImage=function(){return this.backgroundImage},e.prototype.setBackgroundImage=function(e){this.backgroundImage=e},e}();t.Background=i},829:(e,t,n)=>{t.__esModule=!0,t.editBackground=void 0;var o=n(164),i=n(792),r=void 0;t.editBackground=function(){(0,i.removeAllButtons)(),(0,i.removeAllListenersAdded)();var e=o.doc.createElement("input");e.type="checkbox",e.id="backgroundChecker";var t=o.doc.createElement("p");t.textContent="Is background an Image? (checkbox)";var n=o.doc.createElement("paragraph");n.id="hasBackgroundImageShower",n.textContent="no",e.oninput=function(){e.checked?o.doc.getElementById("hasBackgroundImageShower").textContent="yes":o.doc.getElementById("hasBackgroundImageShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(e),o.doc.getElementById("tileEditingPlace").appendChild(n);var a=o.doc.createElement("input");a.id="backgroundImage",a.type="file",a.accept=".jpg, .jpeg, .png",a.textContent="Choose an Image!",a.oninput=function(){a.files.length>0?(r=new Image).src=URL.createObjectURL(a.files[0]):r=void 0},o.doc.getElementById("tileEditingPlace").appendChild(a);var l=o.doc.createElement("button");l.id="changeBackground",l.textContent="Change!",l.classList.add("btn"),l.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(l),o.doc.getElementById("changeBackground").addEventListener("click",(function(){e.checked?o.editor.getGame().getBackground().setBackgroundImage(r):o.editor.getGame().getBackground().delete(),o.editor.getGame().getBackground().setColor(d.value),(0,o.reload)(o.editor,o.ctx)}));var s=o.doc.createElement("button");s.id="deleteBackground",s.textContent="Delete Background!",s.classList.add("btn"),s.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(s),o.doc.getElementById("deleteBackground").addEventListener("click",(function(){o.editor.getGame().getBackground().delete(),(0,o.reload)(o.editor,o.ctx)}));var d=o.doc.createElement("input");d.type="color",d.id="colorPicker",(t=o.doc.createElement("p")).textContent="Choose color of background:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(d)}},942:(e,t,n)=>{t.__esModule=!0,t.spawnNumberInput=t.spawnMultiSelect=t.spawnImageInput=t.spawnSelectMenu=t.spawnButton=t.spawnSliderWithValueShower=t.spawnCheckerWithValueShower=t.spawnParagraph=t.spawnColorPicker=void 0;var o=n(164);t.spawnColorPicker=function(e,t,n){var o=e.createElement("input");return o.type="color",o.id=n,o.value="white",e.getElementById(t).appendChild(o),o},t.spawnParagraph=function(e,t,n,o){var i=e.createElement("p");return i.textContent=o,e.getElementById(t).appendChild(i),i},t.spawnCheckerWithValueShower=function(e,t,n,o,i){var r=e.createElement("input");r.type="checkbox",r.id=n;var a=e.createElement("paragraph");return a.id=n+"Shower",a.textContent=i[0],r.oninput=function(){r.checked?a.textContent=i[1]:a.textContent=i[0]},e.getElementById(t).appendChild(r),e.getElementById(t).appendChild(a),r},t.spawnSliderWithValueShower=function(e,t,n,o,i,r,a){var l=e.createElement("input");l.type="range",l.id=n,l.value=a,l.min=o,l.max=i,l.step=r;var s=e.createElement("paragraph");return s.id=n+"Shower",s.textContent=a,l.oninput=function(){s.textContent=l.value},e.getElementById(t).appendChild(l),e.getElementById(t).appendChild(s),l},t.spawnButton=function(e,t,n,o,i,r){var a=e.createElement("button");return a.id=n,a.textContent=i,o.forEach((function(e){a.classList.add(e)})),a.addEventListener("click",(function(){r()})),e.getElementById(t).appendChild(a),a},t.spawnSelectMenu=function(e,t,n,o,i){var r=e.createElement("select");r.id=n,o.forEach((function(e){r.classList.add(e)}));for(var a=0;a<i.length;a++){var l=e.createElement("option");l.value=i[a],l.text=i[a],r.appendChild(l)}e.getElementById(t).appendChild(r)},t.spawnImageInput=function(e,t,n,o,i){var r=e.createElement("input");r.id=n,r.type="file",r.accept=".jpg, .jpeg, .png",r.textContent=o,r.oninput=function(){i()},e.getElementById(t).appendChild(r)},t.spawnMultiSelect=function(e,t,n,i,r){var a=e.createElement("div");a.id="startMenuWrapper",a.classList.add("dropdown");var l=e.createElement("button");l.id="startMenuButton",l.textContent="Choose!",l.classList.add("btn","btn-dark","dropdown-toggle"),l.setAttribute("data-bs-toggle","dropdown"),a.appendChild(l),document.getElementById("tileEditingPlace").appendChild(a);var s=e.createElement("div");s.classList.add("dropdown-menu"),s.style.backgroundColor="#292b2c";for(var d=i,c=function(t){var n=e.createElement("button");n.textContent=d[t],n.id=d[t],n.style.backgroundColor="white",n.classList.add("dropdown-item","btn"),n.addEventListener("click",(function(e){"start"==r?o.editor.getStartForPlayers().includes(d[t])?o.editor.setStartForPlayers(o.editor.getStartForPlayers().filter((function(e){return e!=d[t]}))):o.editor.getStartForPlayers().push(d[t]):"end"==r?o.editor.getEndForPlayers().includes(d[t])?o.editor.setEndForPlayers(o.editor.getEndForPlayers().filter((function(e){return e!=d[t]}))):o.editor.getEndForPlayers().push(d[t]):"enabled"==r&&(o.editor.getEnabledForPlayers().includes(d[t])?o.editor.setEnabledForPlayers(o.editor.getEnabledForPlayers().filter((function(e){return e!=d[t]}))):o.editor.getEnabledForPlayers().push(d[t])),console.log(o.editor.getStartForPlayers()),e.stopPropagation(),"white"==n.style.backgroundColor?n.style.backgroundColor="yellow":n.style.backgroundColor="white",e.stopPropagation()})),s.appendChild(n)},u=0;u<d.length;u++)c(u);a.appendChild(s)},t.spawnNumberInput=function(e,t,n){var o=e.createElement("input");o.id=n,o.type="number",e.getElementById(t).appendChild(o)}},977:(e,t,n)=>{t.__esModule=!0,t.Game=void 0;var o=n(407),i=n(592),r=function(){function e(){this.name="",this.author="",this.path=new o.Path,this.numOfPlayers=2,this.tiles=[],this.playerTokens=["Player 1","Player 2"],this.background=new i.Background,this.nextTileNumber=1}return e.prototype.saveGame=function(){var e=[];this.tiles.forEach((function(t){e.push(t.JSONfyTile())}))},e.prototype.removeTile=function(e){this.tiles=this.tiles.filter((function(t){return t!=e}))},e.prototype.setPath=function(e){this.path=e},e.prototype.getPath=function(){return this.path},e.prototype.setNumOfPlayers=function(e){this.numOfPlayers=e},e.prototype.getnumOfPlayers=function(){return this.numOfPlayers},e.prototype.setTiles=function(e){this.tiles=e},e.prototype.getTiles=function(){return this.tiles},e.prototype.addTile=function(e){console.log("aspon spustil"),this.tiles.push(e)},e.prototype.getAuthor=function(){return this.author},e.prototype.setAuthor=function(e){this.author=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getBackground=function(){return this.background},e.prototype.setBackground=function(e){this.background=e},e.prototype.getNextTileNumber=function(){return this.nextTileNumber},e.prototype.setNextTileNumber=function(e){this.nextTileNumber=e},e.prototype.setPlayerTokens=function(e){this.playerTokens=e},e.prototype.getPlayerTokens=function(){return this.playerTokens},e}();t.Game=r},127:(e,t,n)=>{t.__esModule=!0,t.GameEditor=void 0;var o=n(164),i=n(210),r=n(977),a=n(792),l=function(){function e(){this.game=new r.Game,this.choosenTile=void 0,this.undoLog=[],this.isMoving=!1,this.image=void 0,this.pattern=void 0,this.startForPlayers=[],this.endForPlayers=[],this.enabledForPlayers=[],this.initNewGame()}return e.prototype.initNewGame=function(){this.game=new r.Game,console.log(this.getGame())},e.prototype.initTile=function(e,t,n,r,a,l,s,d){var c=this.nextTileNumber(),u=new i.Tile("",e.x,e.y,e.x-n,e.x+n,e.y-n,e.y+n,n,t,this.game.getNextTileNumber());return 0!=r&&(u.setStroke(r),u.setStrokeColor(a)),null!=s&&u.setBackgroundFile(s),null!=d&&u.setPatternFile(d),u.setShape(l),this.game.addTile(u),u.drawTile(o.canvas,o.ctx),u.setTileNumber(c),u.setFollowingTileNumber(c+1),console.log("cislo dalsieho je :"+this.game.getNextTileNumber()),u},e.prototype.findTile=function(e){for(var t=(0,o.calibreEventCoords)(e),n=this.game.getTiles(),i=n.length-1;i>=0;i--)if(n[i].isPointedAt(t.x,t.y)){n[i]==this.choosenTile?(n[i].setIsChoosen(!1),this.choosenTile=void 0):(null!=this.choosenTile&&this.choosenTile.setIsChoosen(!1),n[i].setIsChoosen(!0),this.choosenTile=n[i],this.isMoving||(0,a.editTiles)());break}},e.prototype.deleteTile=function(e){for(var t=(0,o.calibreEventCoords)(e),n=this.game.getTiles(),i=n.length-1;i>=0;i--)if(n[i].isPointedAt(t.x,t.y)){this.game.removeTile(n[i]);break}},e.prototype.updateChoosenTile=function(e,t,n,o,i,r,a){var l,s,d,c,u,h,g;null===(l=this.choosenTile)||void 0===l||l.setColor(e),null===(s=this.choosenTile)||void 0===s||s.setRadius(t),null===(d=this.choosenTile)||void 0===d||d.setShape(r),null===(c=this.choosenTile)||void 0===c||c.setBackgroundFile(a),n?(null===(u=this.choosenTile)||void 0===u||u.setStroke(o),null===(h=this.choosenTile)||void 0===h||h.setStrokeColor(i)):null===(g=this.choosenTile)||void 0===g||g.setStroke(0)},e.prototype.moveTile=function(e){var t,n,i,r,a,l,s,d,c,u,h=(0,o.calibreEventCoords)(e);null===(t=this.choosenTile)||void 0===t||t.setCenterX(h.x),null===(n=this.choosenTile)||void 0===n||n.setCenterY(h.y),null===(i=this.choosenTile)||void 0===i||i.setX1(h.x-(null===(r=this.choosenTile)||void 0===r?void 0:r.getRadius())),null===(a=this.choosenTile)||void 0===a||a.setX2(h.x+(null===(l=this.choosenTile)||void 0===l?void 0:l.getRadius())),null===(s=this.choosenTile)||void 0===s||s.setY1(h.y-(null===(d=this.choosenTile)||void 0===d?void 0:d.getRadius())),null===(c=this.choosenTile)||void 0===c||c.setY2(h.y+(null===(u=this.choosenTile)||void 0===u?void 0:u.getRadius()))},e.prototype.makeAllTilesNotChoosen=function(){this.game.getTiles().forEach((function(e){e.setIsChoosen(!1)})),this.choosenTile=void 0},e.prototype.addToUndoLog=function(e){this.undoLog.push(e)},e.prototype.removeLastFromUndoLog=function(){var e=this,t=this.undoLog.pop();null==t||t.forEach((function(t){e.game.removeTile(t)}))},e.prototype.nextTileNumber=function(){for(var e=1,t=!0;t;)t=!1,this.game.getTiles().forEach((function(n){n.getTileNumber()==e&&(e++,t=!0)}));return e},e.prototype.tileWithNumberExists=function(e){var t=!1;return this.game.getTiles().forEach((function(n){n.getTileNumber()===e&&(t=!0),console.log("rovna sa "+n.getTileNumber()+" : "+(n.getTileNumber()===e))})),t},e.prototype.getGame=function(){return this.game},e.prototype.setGame=function(e){this.game=e},e.prototype.getChoosenTile=function(){return this.choosenTile},e.prototype.getIsMoving=function(){return this.isMoving},e.prototype.setIsMoving=function(e){this.isMoving=e},e.prototype.getImage=function(){return this.image},e.prototype.setImage=function(e){this.image=e},e.prototype.getPattern=function(){return this.pattern},e.prototype.setPattern=function(e){this.pattern=e},e.prototype.setStartForPlayers=function(e){this.startForPlayers=e},e.prototype.getStartForPlayers=function(){return this.startForPlayers},e.prototype.setEndForPlayers=function(e){this.endForPlayers=e},e.prototype.getEndForPlayers=function(){return this.endForPlayers},e.prototype.setEnabledForPlayers=function(e){this.enabledForPlayers=e},e.prototype.getEnabledForPlayers=function(){return this.enabledForPlayers},e}();t.GameEditor=l},407:(e,t)=>{t.__esModule=!0,t.Path=void 0;var n=function(){function e(){this.path=[],this.type=""}return e.prototype.add=function(e){this.path.push(e)},e.prototype.setType=function(e){this.type=e},e.prototype.getType=function(){return this.type},e.prototype.getPath=function(){return this.path},e.prototype.setPath=function(e){this.path=e},e}();t.Path=n},89:(e,t,n)=>{t.__esModule=!0,t.endDrawingPath=t.saveEditingTrack=t.editTrack=void 0;var o=n(164),i=n(990),r=n(792),a=n(942),l=!1;function s(){o.editor.getGame().getPath().setPath([]),(0,o.reload)(o.editor,o.ctx),o.canvas.addEventListener("mousemove",h),o.canvas.addEventListener("mousedown",u),o.canvas.addEventListener("mouseenter",u)}function d(){o.editor.getGame().getPath().setPath([]),(0,o.reload)(o.editor,o.ctx),o.canvas.removeEventListener("mousemove",h),o.canvas.removeEventListener("mousedown",u),o.canvas.removeEventListener("mouseenter",u)}t.editTrack=function(){(0,r.removeAllButtons)(),(0,r.removeAllListenersAdded)(),(0,a.spawnButton)(o.doc,"buttonPlace","start",["btn","btn-dark"],"Start Inserting!",s),(0,a.spawnButton)(o.doc,"buttonPlace","spawn",["btn","btn-dark"],"Spawn Tiles!",g),(0,a.spawnButton)(o.doc,"buttonPlace","end",["btn","btn-dark"],"End Inserting!",d),(0,r.spawnElements)(),(0,a.spawnButton)(o.doc,"buttonPlace","undoButton",["btn","btn-dark"],"Undo last Tile/s added!",r.undoTileInsert)},t.saveEditingTrack=function(){d(),o.editor.getGame().getPath().getPath(),(0,o.elementDeleter)("buttonPlace"),(0,o.mainMenu)()},t.endDrawingPath=d;var c={x:0,y:0,end:!1};function u(e){var t=(0,o.calibreEventCoords)(e);t.x<0?c.x=0:t.x>o.ctx.canvas.width?c.x=o.ctx.canvas.width:c.x=t.x,t.y<0?c.y=0:t.y>o.ctx.canvas.height?c.y=o.ctx.canvas.height:c.y=t.y}function h(e){if(1===e.buttons){var t=(0,o.calibreEventCoords)(e);o.editor.getGame().getPath().add(new i.Point(t.x,t.y,c.end)),1!=o.editor.getGame().getPath().getPath().length?(o.ctx.beginPath(),o.ctx.lineWidth=5,o.ctx.lineCap="round",o.ctx.strokeStyle="#c0392b",o.ctx.moveTo(c.x,c.y),u(e),o.ctx.lineTo(c.x,c.y),o.ctx.stroke()):o.ctx.moveTo(t.x,t.y)}}function g(){var e=[];o.editor.getGame().getPath().getPath().forEach((function(t){var n,i;n=t.getX(),i=t.getY(),l=!0,o.editor.getGame().getTiles().forEach((function(e){Math.sqrt(Math.pow(n-e.getCenterX(),2)+Math.pow(i-e.getCenterY(),2))<=2*e.getRadius()&&(l=!1)})),1==l&&(e.push((0,r.spawnTile)({x:t.getX(),y:t.getY()})),console.log(o.editor.getGame().getTiles().length))})),d(),o.editor.addToUndoLog(e)}},990:(e,t)=>{t.__esModule=!0,t.Point=void 0;var n=function(){function e(e,t,n){this.x=e,this.y=t,this.end=n}return e.prototype.isInRange=function(e,t,n){return Math.sqrt(Math.pow(this.x-e,2)+Math.pow(this.y-t,2))>=n},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.getEnd=function(){return this.end},e.prototype.setX=function(e){this.x=e},e.prototype.setY=function(e){this.y=e},e.prototype.setEnd=function(e){this.end=e},e}();t.Point=n},210:(e,t,n)=>{t.__esModule=!0,t.Tile=void 0;var o=n(327),i=function(){function e(e,t,n,o,i,r,a,l,s,d){this.isOccupied=!1,this.color="",this.stroke=0,this.strokeColor="",this.shape="circle",this.isChoosen=!1,this.backgroundFile=void 0,this.patternFile=void 0,this.isEnding=!1,this.isEndingFor=[],this.isStarting=!1,this.isStartingFor=[],this.belongTo="",this.canOccupy=[],this.toggleNumber=!0,this.numberingColor="white",this.type=e,this.centerX=t,this.centerY=n,this.x1=o,this.x2=i,this.y1=r,this.y2=a,this.color=s,this.radius=l,this.tileNumber=d,this.numberOfFollowingTile=d+1}return e.prototype.drawTile=function(e,t){if(t.beginPath(),null==this.backgroundFile&&null==this.patternFile)t.strokeStyle=this.color,t.lineWidth=0,t.fillStyle=this.color,"circle"==this.shape?t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI):"square"==this.shape&&t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.fill();else if(null!=this.backgroundFile)"circle"==this.shape?(t.save(),(i=new Path2D).arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.clip(i),t.fillStyle="black",t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.stroke(),t.drawImage(this.backgroundFile,this.x1,this.y1,2*this.radius,2*this.radius),t.restore()):(t.save(),(i=new Path2D).rect(this.x1,this.y1,2*this.radius,2*this.radius),t.clip(i),t.fillStyle="black",t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.stroke(),t.drawImage(this.backgroundFile,this.x1,this.y1,2*this.radius,2*this.radius),t.restore());else if(null!=this.patternFile)if("circle"==this.shape){t.save(),(i=new Path2D).arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.clip(i),t.fillStyle="black",t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.stroke();for(var n=0;20*n+this.x1<this.x2;n++)for(var o=0;20*o+this.y1<this.y2;o++)t.drawImage(this.patternFile,this.x1+20*n,this.y1+20*o,20,20);t.restore()}else{var i;for(t.save(),(i=new Path2D).rect(this.x1,this.y1,2*this.radius,2*this.radius),t.clip(i),t.fillStyle="black",t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.stroke(),n=0;20*n+this.x1<this.x2;n++)for(o=0;20*o+this.y1<this.y2;o++)t.drawImage(this.patternFile,this.x1+20*n,this.y1+20*o,20,20);t.restore()}var r;this.stroke>0&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.stroke,t.stroke()),this.isChoosen&&("circle"==this.shape?((r=t.createRadialGradient(this.centerX,this.centerY,this.radius,this.centerX,this.centerY,this.radius+8)).addColorStop(0,"red"),r.addColorStop(.33,"#990000"),r.addColorStop(.66,"pink"),t.lineWidth=15,t.strokeStyle=r,t.stroke()):((r=t.createLinearGradient(this.x1,this.y1,this.x2,this.y2)).addColorStop(0,"red"),r.addColorStop(.33,"#990000"),r.addColorStop(.66,"pink"),t.lineWidth=15,t.strokeStyle=r,t.stroke())),this.toggleNumber&&(t.font="bold 30px Arial",t.fillStyle=this.numberingColor,t.textBaseline="middle",t.fillText(this.tileNumber.toString(),this.centerX-8,this.centerY))},e.prototype.isPointedAt=function(e,t){return"circle"==this.shape&&Math.sqrt(Math.pow(this.centerX-e,2)+Math.pow(this.centerY-t,2))<=this.radius||"square"==this.shape&&this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},e.prototype.JSONfyTile=function(){return{type:this.type,centerX:this.centerX,centerY:this.centerY,x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2,radius:this.radius,isOccupied:this.isOccupied,color:this.color,stroke:this.stroke,strokeColor:this.strokeColor,shape:this.shape,backgroundFile:void 0===this.backgroundFile?"none":(0,o.getDataUrlFromImage)(this.backgroundFile),patternFile:void 0===this.patternFile?"none":(0,o.getDataUrlFromImage)(this.patternFile),tileNumber:this.tileNumber,isEnding:this.isEnding,isEndingFor:this.isEndingFor,isStarting:this.isStarting,isStartingFor:this.isStartingFor,belongTo:this.belongTo,canOccupy:this.canOccupy,toggleNumber:this.toggleNumber,numberingColor:this.numberingColor,numberOfFollowingTile:this.numberOfFollowingTile}},e.prototype.setStroke=function(e){this.stroke=e},e.prototype.getStroke=function(){return this.stroke},e.prototype.setStrokeColor=function(e){this.strokeColor=e},e.prototype.getStrokeColor=function(){return this.strokeColor},e.prototype.setShape=function(e){this.shape=e},e.prototype.getShape=function(){return this.shape},e.prototype.setIsChoosen=function(e){this.isChoosen=e},e.prototype.getIsChoosen=function(){return this.isChoosen},e.prototype.setType=function(e){this.type=e},e.prototype.getType=function(){return this.type},e.prototype.setX1=function(e){this.x1=e},e.prototype.getX1=function(){return this.x1},e.prototype.setX2=function(e){this.x2=e},e.prototype.getX2=function(){return this.x2},e.prototype.setY1=function(e){this.y1=e},e.prototype.getY1=function(){return this.y1},e.prototype.setY2=function(e){this.y2=e},e.prototype.getY2=function(){return this.y2},e.prototype.setCenterX=function(e){this.centerX=e},e.prototype.getCenterX=function(){return this.centerX},e.prototype.setCenterY=function(e){this.centerY=e},e.prototype.getCenterY=function(){return this.centerY},e.prototype.setRadius=function(e){this.radius=e},e.prototype.getRadius=function(){return this.radius},e.prototype.setIsOccupied=function(e){this.isOccupied=e},e.prototype.getIsOccupied=function(){return this.isOccupied},e.prototype.setColor=function(e){this.color=e},e.prototype.getColor=function(){return this.color},e.prototype.getBackgroundFile=function(){return this.backgroundFile},e.prototype.setBackgroundFile=function(e){this.backgroundFile=e},e.prototype.getPatternFile=function(){return this.patternFile},e.prototype.setPatternFile=function(e){this.patternFile=e},e.prototype.setIsEnding=function(e){this.isEnding=e},e.prototype.getIsEnding=function(){return this.isEnding},e.prototype.setIsStarting=function(e){this.isStarting=e},e.prototype.getIsStarting=function(){return this.isStarting},e.prototype.setBelongTo=function(e){this.belongTo=e},e.prototype.getBelongTo=function(){return this.belongTo},e.prototype.setIsEndingFor=function(e){this.isEndingFor=e},e.prototype.getIsStartingFor=function(){return this.isStartingFor},e.prototype.setIsStartingFor=function(e){this.isStartingFor=e},e.prototype.getIsEndingFor=function(){return this.isEndingFor},e.prototype.setCanOccupy=function(e){this.canOccupy=e},e.prototype.getCanOccupy=function(){return this.canOccupy},e.prototype.setToogleNumber=function(e){this.toggleNumber=e},e.prototype.getToggleNumber=function(){return this.toggleNumber},e.prototype.setNumberingColor=function(e){this.numberingColor=e},e.prototype.getNumberingColor=function(){return this.numberingColor},e.prototype.getTileNumber=function(){return this.tileNumber},e.prototype.setTileNumber=function(e){this.tileNumber=e},e.prototype.getFollowingTileNumber=function(){return this.numberOfFollowingTile},e.prototype.setFollowingTileNumber=function(e){this.numberOfFollowingTile=e},e}();t.Tile=i},792:(e,t,n)=>{t.__esModule=!0,t.undoTileInsert=t.spawnTile=t.spawnElements=t.removeAllListenersAdded=t.removeAllButtons=t.moveTiles=t.deleteTiles=t.editTiles=t.insertTilesMenu=void 0;var o=n(164),i=n(89),r=n(942),a=n(394),l=function(e){o.editor.findTile(e),(0,o.reload)(o.editor,o.ctx)},s=function(e){o.editor.deleteTile(e),(0,o.reload)(o.editor,o.ctx)};function d(){(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Choose color of tile:"),(0,r.spawnColorPicker)(o.doc,"tileEditingPlace","colorPicker"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Tile size:"),(0,r.spawnSliderWithValueShower)(o.doc,"tileEditingPlace","sizeOfTileSlider","20","50","1","30"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Tile have outline? (checkbox)"),(0,r.spawnCheckerWithValueShower)(o.doc,"tileEditingPlace","outlineChecker",!1,["no","yes"]),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Choose color of outline:"),(0,r.spawnColorPicker)(o.doc,"tileEditingPlace","outlineColorPicker"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Outline size:"),(0,r.spawnSliderWithValueShower)(o.doc,"tileEditingPlace","sizeOfOutlineSlider","1","10","1","3"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Choose shape:"),(0,r.spawnSelectMenu)(o.doc,"tileEditingPlace","shapeMenu",["btn","btn-dark"],["circle","square"]),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Tile have pattern from images? (checkbox)"),(0,r.spawnCheckerWithValueShower)(o.doc,"tileEditingPlace","patternChecker",!1,["no","yes"]),(0,r.spawnImageInput)(o.doc,"tileEditingPlace","tilePattern","Choose a Pattern!",(function(){o.doc.getElementById("tilePattern").files.length>0?(o.editor.setPattern(new Image),o.editor.getPattern().src=URL.createObjectURL(o.doc.getElementById("tilePattern").files[0])):o.editor.setPattern(void 0)})),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Choose background image:"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Tile have background image? (checkbox)"),(0,r.spawnCheckerWithValueShower)(o.doc,"tileEditingPlace","backgroundChecker",!1,["no","yes"]),(0,r.spawnImageInput)(o.doc,"tileEditingPlace","tileImage","Choose an Image!",(function(){o.doc.getElementById("tileImage").files.length>0?(o.editor.setImage(new Image),o.editor.getImage().src=URL.createObjectURL(o.doc.getElementById("tileImage").files[0])):o.editor.setImage(void 0)})),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","For whom is this starting tile? (choose players)"),(0,r.spawnMultiSelect)(o.doc,"tileEditingPlace","",o.editor.getGame().getPlayerTokens(),"start"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","For whom is this finishing tile? (choose players)"),(0,r.spawnMultiSelect)(o.doc,"tileEditingPlace","",o.editor.getGame().getPlayerTokens(),"end"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Which player can visit this tile? (choose players)"),(0,r.spawnMultiSelect)(o.doc,"tileEditingPlace","",o.editor.getGame().getPlayerTokens(),"enabled"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Toogle tile numbering ingame? (checkbox)"),(0,r.spawnCheckerWithValueShower)(o.doc,"tileEditingPlace","toogleNumberingChecker",!1,["no","yes"]),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Choose color of numbering:"),(0,r.spawnColorPicker)(o.doc,"tileEditingPlace","numberingColorPicker"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Choose tile number! (Insert a number into textfield)"),(0,r.spawnNumberInput)(o.doc,"tileEditingPlace","tileNumberSetter"),(0,r.spawnParagraph)(o.doc,"tileEditingPlace","","Which number follows ?! (Insert a number into textfield)"),(0,r.spawnNumberInput)(o.doc,"tileEditingPlace","tileFollowingSetter")}function c(){o.doc.getElementById("canvasPlace").style.cursor="default",m(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(o.editor,o.ctx),p(),o.canvas.addEventListener("click",l),(0,r.spawnButton)(o.doc,"buttonPlace","Save",["btn","btn-dark"],"Save!",h),(0,r.spawnButton)(o.doc,"buttonPlace","drawPath",["btn","btn-dark"],"Draw Path!!",i.editTrack),(0,r.spawnButton)(o.doc,"buttonPlace","startInsertingButton",["btn","btn-dark"],"Insert by one!",u)}function u(){o.doc.getElementById("canvasPlace").style.cursor="grabbing",p(),m(),o.canvas.addEventListener("mousedown",v),(0,r.spawnButton)(o.doc,"buttonPlace","endInsertingButton",["btn","btn-dark"],"Stop inserting!",c),d(),(0,r.spawnButton)(o.doc,"buttonPlace","undoButton",["btn","btn-dark"],"Undo last Tile!",y)}function h(){p(),m(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(o.editor,o.ctx),(0,o.mainMenu)()}function g(){p(),m(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(o.editor,o.ctx),(0,o.mainMenu)()}function p(){(0,o.elementDeleter)("buttonPlace"),(0,o.elementDeleter)("numOfPlayersPlace"),(0,o.elementDeleter)("gameTypePlace"),(0,o.elementDeleter)("gameNamePlace"),(0,o.elementDeleter)("tileEditingPlace")}function m(){o.canvas.removeEventListener("mousemove",k),o.canvas.removeEventListener("mousedown",k),o.canvas.removeEventListener("mousedown",v),o.canvas.removeEventListener("click",l),o.canvas.removeEventListener("click",s),(0,i.endDrawingPath)()}function y(){o.editor.removeLastFromUndoLog(),(0,o.reload)(o.editor,o.ctx)}t.spawnElements=d,t.insertTilesMenu=c,t.editTiles=function(){m(),o.canvas.addEventListener("click",l),p(),o.editor.setIsMoving(!1),(0,r.spawnButton)(o.doc,"buttonPlace","Save",["btn","btn-dark"],"Save!",g),(0,r.spawnButton)(o.doc,"buttonPlace","Update",["btn","btn-dark"],"Edit button!",E),d(),b()},t.moveTiles=function(){(0,i.endDrawingPath)(),o.doc.getElementById("canvasPlace").style.cursor="grabbing",o.editor.makeAllTilesNotChoosen(),(0,o.reload)(o.editor,o.ctx),o.editor.setIsMoving(!0),p(),o.canvas.addEventListener("click",l),o.canvas.addEventListener("mousemove",k),o.canvas.addEventListener("mousedown",k)},t.deleteTiles=function(){o.doc.getElementById("canvasPlace").style.cursor="grabbing",m(),p(),(0,r.spawnButton)(o.doc,"buttonPlace","End",["btn","btn-dark"],"End deleting!",h),o.canvas.addEventListener("click",s)},t.removeAllButtons=p,t.removeAllListenersAdded=m,t.undoTileInsert=y;var v=function(e){var t=(0,o.calibreEventCoords)(e),n=!0;if(document.getElementById("tileFollowingSetter").value.length>0&&(o.editor.tileWithNumberExists(parseInt(document.getElementById("tileFollowingSetter").value))||(n=!1,a.Warning.show("Following tile with that number doesn't exist"))),n){var i=f(t);o.editor.addToUndoLog([i])}},f=function(e){var t,n=o.doc.getElementById("sizeOfTileSlider"),i=o.doc.getElementById("colorPicker"),r=o.doc.getElementById("sizeOfOutlineSlider"),a=o.doc.getElementById("outlineColorPicker"),l=o.doc.getElementById("outlineChecker"),s=o.doc.getElementById("shapeMenu"),d=o.doc.getElementById("backgroundChecker"),c=o.doc.getElementById("patternChecker"),u=o.editor.getImage(),h=o.editor.getPattern();if(d.checked||(u=void 0),c.checked||(h=void 0),(t=l.checked?o.editor.initTile(e,i.value,parseInt(n.value),parseInt(r.value),a.value,s.value,u,h):o.editor.initTile(e,i.value,parseInt(n.value),0,"",s.value,u,h)).setIsStartingFor(o.editor.getStartForPlayers()),t.setIsEndingFor(o.editor.getEndForPlayers()),t.setCanOccupy(o.editor.getEnabledForPlayers()),t.setToogleNumber(o.doc.getElementById("toogleNumberingChecker").checked),t.setNumberingColor(o.doc.getElementById("numberingColorPicker").value),document.getElementById("tileNumberSetter").value.length>0){t.setTileNumber(parseInt(document.getElementById("tileNumberSetter").value));var g=o.editor.getGame().getTiles().filter((function(e){return e!=t&&e.getTileNumber()===parseInt(document.getElementById("tileNumberSetter").value)}));g.length>0&&g[0].setTileNumber(o.editor.nextTileNumber())}return document.getElementById("tileFollowingSetter").value.length>0&&t.setFollowingTileNumber(parseInt(document.getElementById("tileFollowingSetter").value)),(0,o.reload)(o.editor,o.ctx),console.log(t),t};t.spawnTile=f;var E=function(){var e=o.doc.getElementById("sizeOfTileSlider"),t=o.doc.getElementById("colorPicker"),n=o.doc.getElementById("sizeOfOutlineSlider"),i=o.doc.getElementById("outlineColorPicker"),r=o.doc.getElementById("outlineChecker"),a=o.doc.getElementById("shapeMenu"),l=o.doc.getElementById("backgroundChecker"),s=o.doc.getElementById("patternChecker"),d=o.editor.getImage(),c=o.editor.getPattern();if(l.checked||(d=void 0),s.checked||(c=void 0),o.editor.updateChoosenTile(t.value,parseInt(e.value),r.checked,parseInt(n.value),i.value,a.value,d),o.editor.getChoosenTile().setIsStartingFor(o.editor.getStartForPlayers()),o.editor.getChoosenTile().setIsEndingFor(o.editor.getEndForPlayers()),o.editor.getChoosenTile().setCanOccupy(o.editor.getEnabledForPlayers()),o.editor.getChoosenTile().setToogleNumber(o.doc.getElementById("toogleNumberingChecker").checked),o.editor.getChoosenTile().setNumberingColor(o.doc.getElementById("numberingColorPicker").value),o.editor.getChoosenTile().setPatternFile(c),document.getElementById("tileNumberSetter").value.length>0){o.editor.getChoosenTile().setTileNumber(parseInt(document.getElementById("tileNumberSetter").value));var u=o.editor.getGame().getTiles().filter((function(e){return e.getTileNumber()===parseInt(document.getElementById("tileNumberSetter").value)}));u.length>0&&u[0].setTileNumber(o.editor.nextTileNumber())}(0,o.reload)(o.editor,o.ctx)},b=function(){var e,t,n;if(null!=o.editor.getChoosenTile()){var i=o.doc.getElementById("sizeOfTileSlider"),r=o.doc.getElementById("colorPicker"),a=o.doc.getElementById("numberingColorPicker"),l=o.doc.getElementById("sizeOfOutlineSlider"),s=o.doc.getElementById("outlineColorPicker"),d=o.doc.getElementById("outlineChecker"),c=o.doc.getElementById("shapeMenu"),u=o.doc.getElementById("backgroundChecker"),h=o.doc.getElementById("patternChecker"),g=o.doc.getElementById("toogleNumberingChecker"),p=o.doc.getElementById("tileNumberSetter"),m=o.doc.getElementById("tileFollowingSetter"),y=o.editor.getChoosenTile();r.value=y.getColor(),a.value=y.getNumberingColor(),i.value=y.getRadius().toString(),l.value=y.getStroke().toString(),s.value=y.getStrokeColor(),d.checked=y.getStroke()>0,p.value=y.getTileNumber().toString(),m.value=y.getFollowingTileNumber().toString(),d.checked?o.doc.getElementById("outlineCheckerShower").textContent="yes":o.doc.getElementById("outlineCheckerShower").textContent="no",c.value=y.getShape(),u.checked=null!=(null===(e=o.editor.getChoosenTile())||void 0===e?void 0:e.getBackgroundFile()),u.checked?o.doc.getElementById("backgroundCheckerShower").textContent="yes":o.doc.getElementById("backgroundCheckerShower").textContent="no",h.checked=null!=(null===(t=o.editor.getChoosenTile())||void 0===t?void 0:t.getPatternFile()),h.checked?o.doc.getElementById("patternCheckerShower").textContent="yes":o.doc.getElementById("patternCheckerShower").textContent="no",g.checked=null===(n=o.editor.getChoosenTile())||void 0===n?void 0:n.getToggleNumber(),g.checked?o.doc.getElementById("toogleNumberingCheckerShower").textContent="yes":o.doc.getElementById("toogleNumberingCheckerShower").textContent="no"}},k=function(e){o.editor.moveTile(e),(0,o.reload)(o.editor,o.ctx)}},394:(e,t,n)=>{t.__esModule=!0,t.Warning=void 0;var o=n(164),i=n(942),r=function(){function e(){}return e.show=function(e){(0,i.spawnParagraph)(o.doc,"modalBody","",e),$("#exampleModal").modal("toggle")},e}();t.Warning=r},164:(e,t,n)=>{t.__esModule=!0,t.resize=t.editorSocket=t.reload=t.editor=t.calibreEventCoords=t.ctx=t.canvas=t.clear=t.elementDeleter=t.doc=t.mainMenu=void 0,n(792),n(829);var o=n(127),i=n(942);t.editorSocket="undefined";var r=document;t.doc=r;var a=document.createElement("canvas");t.canvas=a;var l=new o.GameEditor;t.editor=l,document.getElementById("canvasPlace").appendChild(a),t.mainMenu=function(){var e=document.createElement("input");e.type="range",e.id="numOfPlayers",e.value="2",e.min="1",e.max="6",e.step="1";var t=document.createElement("paragraph");t.id="numShower",t.textContent="2";var n=document.createElement("p");n.textContent="Počet hráčov:",document.getElementById("numOfPlayersPlace").appendChild(n),document.getElementById("numOfPlayersPlace").appendChild(t),e.oninput=function(){document.getElementById("numShower").textContent=e.value,l.getGame().setNumOfPlayers(parseInt(e.value));for(var t=[],n=1;n<=parseInt(e.value);n++)t.push("Player "+n);l.getGame().setPlayerTokens(t)},document.getElementById("numOfPlayersPlace").appendChild(e);var o=document.createElement("input");o.id="gameName",(n=document.createElement("p")).textContent="Názov hry:",document.getElementById("gameNamePlace").appendChild(n),o.oninput=function(){l.getGame().setName(o.value)},document.getElementById("gameNamePlace").appendChild(o);var r=document.createElement("select");r.id="gameType",(n=document.createElement("p")).textContent="Typ hry:",document.getElementById("gameTypePlace").appendChild(n),document.getElementById("gameTypePlace").appendChild(r),(0,i.spawnButton)(document,"tileEditingPlace","savaGameButton",["btn","btn-dark"],"Save game to database!",(function(){l.getGame().saveGame(),window.location.replace("/")}))};var s=a.getContext("2d");function d(e,t){t.canvas.width=window.innerWidth/3*2-30,t.canvas.height=window.innerHeight,c(e,t)}function c(e,t){t.clearRect(0,0,a.width,a.height),console.log(e.getGame().getBackground()),null!=e.getGame().getBackground()&&e.getGame().getBackground().draw();for(var n=0,o=e.getGame().getPath().getPath().length;n<o-1;){var i=e.getGame().getPath().getPath()[n],r=e.getGame().getPath().getPath()[n+1];i.getEnd()||(t.lineWidth=5,t.lineCap="round",t.lineJoin="round",t.strokeStyle="#c0392b",t.moveTo(i.getX(),i.getY()),t.lineTo(r.getX(),r.getY()),Math.sqrt(Math.pow(i.getX()-r.getX(),2)+Math.pow(i.getY()-r.getY(),2)),t.stroke()),n++}e.getGame().getTiles().forEach((function(e){e.drawTile(a,t)}))}t.ctx=s,d(l,s),window.addEventListener("resize",(function(){d(l,s)})),t.resize=d,t.reload=c,t.clear=function(){l.getGame().getPath().setPath([]),s.clearRect(0,0,a.width,a.height)},t.elementDeleter=function(e){for(var t,n;null!=(null===(t=document.getElementById(e))||void 0===t?void 0:t.lastChild);)null===(n=document.getElementById(e))||void 0===n||n.removeChild(document.getElementById(e).lastChild)},t.calibreEventCoords=function(e){return{x:e.offsetX,y:e.offsetY}}},327:(e,t)=>{t.__esModule=!0,t.getDataUrlFromImage=void 0,t.getDataUrlFromImage=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t.toDataURL("image/jpeg")}}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(164)})();